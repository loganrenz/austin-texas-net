# Austin-Texas.net

> Live local intelligence for Austin, Texas — built with **Nuxt 4**, **Nuxt UI 4**, and **Tailwind v4**.

## Quick Start

```bash
pnpm install
pnpm dev          # http://localhost:3000
pnpm build        # production build (Cloudflare Pages)
pnpm typecheck    # TypeScript validation
pnpm lint         # ESLint
```

## File Structure

```
app/
├── assets/css/main.css      # Tailwind v4 + Nuxt UI imports, theme tokens
├── components/
│   ├── CategoryLinkList.vue  # Single category block with icon + link list
│   ├── CategoryPage.vue      # Reusable category hub page (existing)
│   ├── CategorySection.vue   # "Explore Austin" grid of category blocks
│   ├── LiveBadge.vue         # Pulsing LIVE dot / "Updated X min ago"
│   ├── LiveMetric.vue        # Editorial metric card with gradient header
│   └── LiveStrip.vue         # Horizontal row of 3 live metric cards
├── composables/
│   ├── useLivePollen.ts      # Fetches /api/live/pollen
│   ├── useLiveWaterTemps.ts  # Fetches /api/live/water-temps
│   ├── usePageSeo.ts         # Per-page SEO meta helper
│   ├── useSiteData.ts        # Category structure + helper functions
│   └── useWeekendEvents.ts   # Fetches /api/live/events
├── pages/
│   ├── index.vue                    # Homepage
│   ├── [category]/index.vue         # Category hub (dynamic)
│   ├── [category]/list/[slug].vue   # Filterable list pattern
│   ├── [category]/map/[slug].vue    # Map placeholder pattern
│   └── [category]/tool/[slug].vue   # Tool detail pattern
├── types/
│   └── live.ts               # Shared TypeScript types for live data
└── app.vue                   # Root layout (header, footer, navigation)

server/
└── api/live/
    ├── pollen.get.ts         # Mock pollen API
    ├── water-temps.get.ts    # Mock water temperature API
    └── events.get.ts         # Mock events API
```

## UI Rules

1. **Tailwind-First** — Use Tailwind v4 utilities and Nuxt UI components. No custom `<style>` blocks unless absolutely required.
2. **Nuxt UI Components** — Always prefer `UButton`, `UInput`, `UBadge`, `UIcon`, etc. over native HTML elements.
3. **No Raw Colors** — Use semantic tokens (`text-muted`, `text-default`, `bg-default`, `border-default`).
4. **Responsive** — All layouts must work from `320px` to `1440px`. Grid pattern: `grid-cols-1 md:grid-cols-3`.
5. **Icons** — Use Lucide icons via `i-lucide-*` prefix.

## How to Add a Page

### New Tool Page

1. Create `app/pages/[category]/tool/[slug].vue` or add content to the existing scaffold.
2. Ensure the tool's `slug` exists in `useSiteData()` category config.
3. Call `usePageSeo()` with unique `title` and `description`.
4. Call `useSchemaOrg()` for structured data.

### New Category

1. Add the category to `useSiteData.ts` with `title`, `slug`, `icon`, `color`, `tagline`, and `subApps[]`.
2. The dynamic `[category]/index.vue` route handles it automatically.

### New Live Data Source

1. Create a server API stub: `server/api/live/<name>.get.ts`
2. Create a composable: `app/composables/useLive<Name>.ts` with typed `useFetch<T>`
3. Add types to `app/types/live.ts`
4. Add a `LiveMetric` to `LiveStrip.vue`

## SEO Checklist

- [ ] One `<h1>` per page
- [ ] Unique `<title>` via `usePageSeo()`
- [ ] Unique `<meta name="description">` via `usePageSeo()`
- [ ] Canonical URL set automatically by Nuxt
- [ ] Schema.org structured data via `useSchemaOrg()`
- [ ] All URLs end with trailing slash
- [ ] Sitemap generated by `@nuxtjs/sitemap`
- [ ] Robots.txt managed by `@nuxtjs/robots`

## Tooling

| Tool        | Config                           | Purpose                         |
| ----------- | -------------------------------- | ------------------------------- |
| ESLint      | `eslint.config.mjs`              | Linting via `@nuxt/eslint`      |
| Prettier    | `.prettierrc`                    | Code formatting                 |
| Husky       | `.husky/pre-commit`              | Git hooks                       |
| lint-staged | `.lintstagedrc`                  | Run lint/format on staged files |
| CI          | `.github/workflows/ci.yml`       | Lint + typecheck on PRs         |
| TypeScript  | `tsconfig.json` (Nuxt-generated) | Type safety                     |

## Deployment

```bash
pnpm deploy  # Build → patch → deploy to Cloudflare Pages
```

Target: **Cloudflare Pages** via `nitro.preset: 'cloudflare-pages'`
